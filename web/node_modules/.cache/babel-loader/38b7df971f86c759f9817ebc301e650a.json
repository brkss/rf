{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { Observable } from '@apollo/client/core';\n\nvar OperationQueuing = function () {\n  function OperationQueuing() {\n    this.queuedRequests = [];\n    this.queuedRequests = [];\n  }\n\n  OperationQueuing.prototype.enqueueRequest = function (request) {\n    var _this = this;\n\n    var requestCopy = __assign({}, request);\n\n    requestCopy.observable = requestCopy.observable || new Observable(function (observer) {\n      _this.queuedRequests.push(requestCopy);\n\n      if (typeof requestCopy.subscriber === 'undefined') {\n        requestCopy.subscriber = {};\n      }\n\n      requestCopy.subscriber.next = requestCopy.next || observer.next.bind(observer);\n      requestCopy.subscriber.error = requestCopy.error || observer.error.bind(observer);\n      requestCopy.subscriber.complete = requestCopy.complete || observer.complete.bind(observer);\n    });\n    return requestCopy.observable;\n  };\n\n  OperationQueuing.prototype.consumeQueue = function () {\n    this.queuedRequests.forEach(function (request) {\n      request.forward(request.operation).subscribe(request.subscriber);\n    });\n    this.queuedRequests = [];\n  };\n\n  return OperationQueuing;\n}();\n\nexport { OperationQueuing };","map":{"version":3,"sources":["../src/queuing.ts"],"names":[],"mappings":";AAAA,SAAS,UAAT,QAA6D,qBAA7D;;AAsBA,IAAA,gBAAA,GAAA,YAAA;AAGE,WAAA,gBAAA,GAAA;AAFO,SAAA,cAAA,GAAkC,EAAlC;AAGL,SAAK,cAAL,GAAsB,EAAtB;AACD;;AAEM,EAAA,gBAAA,CAAA,SAAA,CAAA,cAAA,GAAP,UAAsB,OAAtB,EAA4C;AAA5C,QAAA,KAAA,GAAA,IAAA;;AACE,QAAM,WAAW,GAAA,QAAA,CAAA,EAAA,EAAQ,OAAR,CAAjB;;AAEA,IAAA,WAAW,CAAC,UAAZ,GACE,WAAW,CAAC,UAAZ,IACA,IAAI,UAAJ,CAA4B,UAAA,QAAA,EAAQ;AAClC,MAAA,KAAI,CAAC,cAAL,CAAoB,IAApB,CAAyB,WAAzB;;AAEA,UAAI,OAAO,WAAW,CAAC,UAAnB,KAAkC,WAAtC,EAAmD;AACjD,QAAA,WAAW,CAAC,UAAZ,GAAyB,EAAzB;AACD;;AAED,MAAA,WAAW,CAAC,UAAZ,CAAuB,IAAvB,GAA8B,WAAW,CAAC,IAAZ,IAAoB,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,QAAnB,CAAlD;AACA,MAAA,WAAW,CAAC,UAAZ,CAAuB,KAAvB,GAA+B,WAAW,CAAC,KAAZ,IAAqB,QAAQ,CAAC,KAAT,CAAe,IAAf,CAAoB,QAApB,CAApD;AACA,MAAA,WAAW,CAAC,UAAZ,CAAuB,QAAvB,GACE,WAAW,CAAC,QAAZ,IAAwB,QAAQ,CAAC,QAAT,CAAkB,IAAlB,CAAuB,QAAvB,CAD1B;AAED,KAXD,CAFF;AAeA,WAAO,WAAW,CAAC,UAAnB;AACD,GAnBM;;AAqBA,EAAA,gBAAA,CAAA,SAAA,CAAA,YAAA,GAAP,YAAA;AACE,SAAK,cAAL,CAAoB,OAApB,CAA4B,UAAA,OAAA,EAAO;AAC/B,MAAA,OAAO,CAAC,OAAR,CAAgB,OAAO,CAAC,SAAxB,EAAmC,SAAnC,CAA6C,OAAO,CAAC,UAArD;AACH,KAFD;AAIA,SAAK,cAAL,GAAsB,EAAtB;AACD,GANM;;AAOT,SAAA,gBAAA;AAAC,CAnCD,EAAA","sourceRoot":"","sourcesContent":["import { __assign } from \"tslib\";\nimport { Observable } from '@apollo/client/core';\nvar OperationQueuing = (function () {\n    function OperationQueuing() {\n        this.queuedRequests = [];\n        this.queuedRequests = [];\n    }\n    OperationQueuing.prototype.enqueueRequest = function (request) {\n        var _this = this;\n        var requestCopy = __assign({}, request);\n        requestCopy.observable =\n            requestCopy.observable ||\n                new Observable(function (observer) {\n                    _this.queuedRequests.push(requestCopy);\n                    if (typeof requestCopy.subscriber === 'undefined') {\n                        requestCopy.subscriber = {};\n                    }\n                    requestCopy.subscriber.next = requestCopy.next || observer.next.bind(observer);\n                    requestCopy.subscriber.error = requestCopy.error || observer.error.bind(observer);\n                    requestCopy.subscriber.complete =\n                        requestCopy.complete || observer.complete.bind(observer);\n                });\n        return requestCopy.observable;\n    };\n    OperationQueuing.prototype.consumeQueue = function () {\n        this.queuedRequests.forEach(function (request) {\n            request.forward(request.operation).subscribe(request.subscriber);\n        });\n        this.queuedRequests = [];\n    };\n    return OperationQueuing;\n}());\nexport { OperationQueuing };\n//# sourceMappingURL=queuing.js.map"]},"metadata":{},"sourceType":"module"}